{% extends "@Contao/content_element/text.html.twig" %}
{% block wrapper_tag %}{{ parent() }} {% if data.space|deserialize_1 or data.space|deserialize_2 %} style="{% if data.space|deserialize_1 %}margin-top: {{ data.space|deserialize_1 }}px;{% endif %}{% if data.space|deserialize_2 %}margin-bottom: {{ data.space|deserialize_2 }}px;{% endif %}"{% endif %}{% endblock %}
{% block text_media %}
  {% if image %}

    {% set imagemargin_top = "" %}
    {% set imagemargin_right = "" %}
    {% set imagemargin_bottom = "" %}
    {% set imagemargin_left = "" %}
    
    {% if data.imagemargin|deserialize_top %}
      {% set imagemargin_top = "margin-top: #{data.imagemargin|deserialize_top}px; " %}
    {% endif %}

    {% if data.imagemargin|deserialize_right %}    
      {% set imagemargin_right = "margin-right: #{data.imagemargin|deserialize_right}px; " %}
    {% endif %}
    
    {% if data.imagemargin|deserialize_bottom %}    
      {% set imagemargin_bottom = "margin-bottom: #{data.imagemargin|deserialize_bottom}px; " %}
    {% endif %}
  
    {% if data.imagemargin|deserialize_left %}    
      {% set imagemargin_left = "margin-left: #{data.imagemargin|deserialize_left}px; " %}
    {% endif %}

    {% set figure_attributes = attrs()
        .addStyle(imagemargin_top ~ imagemargin_right ~ imagemargin_bottom ~ imagemargin_left)
    %}
    
    {% with {figure: image, figure_attributes: figure_attributes} %}{{ block('figure_component') }}{% endwith %}

  {% endif %}
{% endblock %}
